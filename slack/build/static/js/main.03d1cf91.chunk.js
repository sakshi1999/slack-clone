(this.webpackJsonpslack=this.webpackJsonpslack||[]).push([[0],{66:function(e,a,t){e.exports=t(95)},71:function(e,a,t){},72:function(e,a,t){},73:function(e,a,t){},78:function(e,a,t){},79:function(e,a,t){},91:function(e,a,t){},92:function(e,a,t){},93:function(e,a,t){},94:function(e,a,t){},95:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),l=t(24),r=t.n(l),o=(t(71),t(13)),s=(t(72),t(73),t(109)),m=t(46),i=t.n(m),u=t(47),d=t.n(u),E=t(48),h=t.n(E),p=Object(n.createContext)(),v=function(e){var a=e.reducer,t=e.initialState,l=e.children;return c.a.createElement(p.Provider,{value:Object(n.useReducer)(a,t)},l)},f=function(){return Object(n.useContext)(p)};var g=function(){var e=f(),a=Object(o.a)(e,1)[0],t=a.user,n=a.userImage;return c.a.createElement("div",{className:"header"},c.a.createElement("div",{className:"header__left"},c.a.createElement(s.a,{alt:t,src:n}),c.a.createElement(i.a,null)),c.a.createElement("div",{className:"header__search"},c.a.createElement(d.a,null),c.a.createElement("input",{type:"text",placeholder:"search"})),c.a.createElement("div",{className:"header__right"},c.a.createElement(h.a,null)))},b=(t(78),t(49)),_=t.n(b),I=t(50),N=t.n(I),O=t(51),j=t.n(O),S=(t(79),t(4)),k=t(26),y=t.n(k),C=y.a.initializeApp({apiKey:"AIzaSyB2A8giDcOcmB4G6vZxU4hyWYdZTTVmGQU",authDomain:"slack-clone-7ac01.firebaseapp.com",databaseURL:"https://slack-clone-7ac01.firebaseio.com",projectId:"slack-clone-7ac01",storageBucket:"slack-clone-7ac01.appspot.com",messagingSenderId:"532699213937",appId:"1:532699213937:web:b8fc774f0fe5b1157a6bd0",measurementId:"G-CSMYP3ZDTR"}).firestore(),w=y.a.auth(),D=new y.a.auth.GoogleAuthProvider,T=C;var A=function(e){var a=e.Icon,t=e.title,n=e.id,l=e.addChannelOption,r=Object(S.f)();return c.a.createElement("div",{className:"sidebarOption",onClick:l?function(){var e=prompt("please enter the channel name");e&&T.collection("rooms").add({name:e})}:function(){n?r.push("/room/".concat(n)):r.push(t)}},a&&c.a.createElement(a,{className:"sidebarOption__icon"}),a?c.a.createElement("h3",null,t):c.a.createElement("h3",{className:"sidebarOption__channel"},c.a.createElement("span",{className:"sidebarOption__hash"},"#"),t))},U=t(52),x=t.n(U),G=t(53),R=t.n(G),L=t(54),B=t.n(L),M=t(55),W=t.n(M),P=t(56),Z=t.n(P),z=t(57),F=t.n(z),J=t(58),V=t.n(J),Y=t(59),K=t.n(Y),Q=t(60),q=t.n(Q);var H=function(){var e=Object(n.useState)([]),a=Object(o.a)(e,2),t=a[0],l=a[1],r=f(),s=Object(o.a)(r,1)[0],m=s.user,i=s.userImage;return console.log("photo dede yr",i),Object(n.useEffect)((function(){T.collection("rooms").onSnapshot((function(e){l(e.docs.map((function(e){return{id:e.id,name:e.data().name}})))}))}),[]),c.a.createElement("div",{className:"sidebar"},c.a.createElement("div",{className:"sidebar__header"},c.a.createElement("div",{className:"sidebar__info"},c.a.createElement("h2",null,"slack clone"),c.a.createElement("h3",null,c.a.createElement(_.a,null),m,null===i||void 0===i?void 0:i.photoURL)),c.a.createElement(N.a,null)),c.a.createElement(A,{Icon:j.a,title:"Theards"}),c.a.createElement(A,{Icon:x.a,title:"Mentions & reactions"}),c.a.createElement(A,{Icon:R.a,title:"saved items"}),c.a.createElement(A,{Icon:B.a,title:"channel browser"}),c.a.createElement(A,{Icon:W.a,title:"people & user groups"}),c.a.createElement(A,{Icon:Z.a,title:"Apps"}),c.a.createElement(A,{Icon:F.a,title:"file browser"}),c.a.createElement(A,{Icon:V.a,title:"show less"}),c.a.createElement("hr",null),c.a.createElement(A,{Icon:K.a,title:"channel"}),c.a.createElement("hr",null),c.a.createElement(A,{Icon:q.a,addChannelOption:!0,title:"Add channels"}),t.map((function(e){return c.a.createElement(A,{title:e.name,id:e.id})})))},X=(t(91),t(61)),$=t.n(X),ee=t(62),ae=t.n(ee);t(92);var te=function(e){var a=e.message,t=e.timestamp,n=e.user,l=e.userimage;return c.a.createElement("div",{className:"message"},c.a.createElement("img",{src:l,alt:""}),c.a.createElement("div",{className:"message__info"},c.a.createElement("h4",null,n,c.a.createElement("span",{className:"message__timestamp"},new Date(null===t||void 0===t?void 0:t.toDate()).toUTCString())),c.a.createElement("p",null,a)))};t(93);var ne=function(e){var a=e.channelName,t=e.channelId,l=Object(n.useState)(""),r=Object(o.a)(l,2),s=r[0],m=r[1],i=f(),u=Object(o.a)(i,1)[0],d=u.user,E=u.userImage;return c.a.createElement("div",{className:"chatInput"},c.a.createElement("form",null,c.a.createElement("input",{value:s,onChange:function(e){return m(e.target.value)},placeholder:"Message #".concat(null===a||void 0===a?void 0:a.toLowerCase())}),c.a.createElement("button",{type:"submit",onClick:function(e){e.preventDefault(),console.log("channelId",t,s,d);var a={message:s,timestamp:y.a.firestore.FieldValue.serverTimestamp(),user:d,userimage:E};console.log(a),t&&T.collection("rooms").doc(t).collection("msg").add(a)}},"SEND")))};var ce=function(){var e=Object(S.g)().roomId,a=Object(n.useState)(null),t=Object(o.a)(a,2),l=t[0],r=t[1],s=Object(n.useState)([]),m=Object(o.a)(s,2),i=m[0],u=m[1];return Object(n.useEffect)((function(){e&&T.collection("rooms").doc(e).onSnapshot((function(e){return r(e.data())})),T.collection("rooms").doc(e).collection("msg").orderBy("timestamp","asc").onSnapshot((function(e){return u(e.docs.map((function(e){return e.data()})))}))}),[e]),console.log("roomDetails",l),console.log("MESSAGE >>>>>",i),c.a.createElement("div",{className:"chat"},c.a.createElement("div",{className:"chat__header"},c.a.createElement("div",{className:"chat__headerLeft"},c.a.createElement("h4",{className:"chat__channelName"},c.a.createElement("strong",null,"#",null===l||void 0===l?void 0:l.name),c.a.createElement($.a,null))),c.a.createElement("div",{className:"chat__headerRight"},c.a.createElement("p",null,c.a.createElement(ae.a,null)," detail"))),c.a.createElement("div",{className:"chat__messages"},i.map((function(e){var a=e.message,t=e.timestamp,n=e.user,l=e.userimage;return c.a.createElement(te,{message:a,timestamp:t,user:n,userimage:l})}))),c.a.createElement(ne,{channelName:null===l||void 0===l?void 0:l.name,channelId:e}))},le=(t(94),t(108)),re=t(37),oe="SET_USER",se=function(e,a){switch(console.log(a),a.type){case oe:return Object(re.a)(Object(re.a)({},e),{},{user:a.user,userImage:a.userimage});default:return e}};var me=function(){var e=f(),a=Object(o.a)(e,2),t=(a[0],a[1]);return c.a.createElement("div",{className:"login"},c.a.createElement("div",{className:"login__container"},c.a.createElement("img",{src:"https://cdn.mos.cms.futurecdn.net/SDDw7CnuoUGax6x9mTo7dd.jpg",alt:""}),c.a.createElement("h3",null,"Welcome to slack clone"),c.a.createElement("h6",null,"Let's go"),c.a.createElement(le.a,{onClick:function(){console.log(w),console.log(D),w.signInWithPopup(D).then((function(e){e.credential.accessToken,e.user;console.log("user : ",e),t({type:oe,user:e.user.displayName,userimage:e.user.photoURL})})).catch((function(e){e.code,e.message,e.email,e.credential}))}},"Sign In With Google")))},ie=t(32);var ue=function(){var e=f(),a=Object(o.a)(e,2),t=a[0].user;return a[1],c.a.createElement("div",{className:"App"},c.a.createElement(ie.a,null,t?c.a.createElement(c.a.Fragment,null,c.a.createElement(g,null),c.a.createElement("div",{className:"app__body"},c.a.createElement(H,null),c.a.createElement(S.c,null,c.a.createElement(S.a,{path:"/room/:roomId"},c.a.createElement(ce,null)),c.a.createElement(S.a,{path:"/"},c.a.createElement("h1",null,"Welcome"))))):c.a.createElement("h1",null,c.a.createElement(me,null))))};r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(v,{initialState:{user:null,userImage:""},reducer:se},c.a.createElement(ue,null))),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.03d1cf91.chunk.js.map